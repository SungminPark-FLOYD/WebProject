<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="../css/public.css">
    <script>
        function proc1() {
            input = prompt("주민번호 입력", "110326-4432618");

            //추출
            yy = parseInt(input.substring(0, 2));
            mm = input.substring(2,4);
            dd = input.substring(4, 6);
            gend = input.substring(7,8);

            //성별 비교
            if(gend == "1" || gend == "3") gender = "남자";
            else if(gend == "2" || gend == "4") gender = "여자";

            if(gend == "1" || gend == "2") year = 1900;
            else if(gend == "3" || gend == "4") gender = 2000;

            date = new Date();
            age = date.getFullYear() - (year + yy);

            res = `주민등록번호 : ${input.substring(0,8)}****** <br>
                    생일 : ${year + yy}년 ${mm}월 ${dd}일 <br>
                    성별 : ${gender} <br>
                    나이 : ${age} `

            document.getElementById('result1').innerHTML = res;
        }
        function proc2() {
            multi = "234567892345";
            input = prompt("주민번호 입력", "110326-4432618");
            reInput = input.replace("-", "");

            sum = "";
            for(i=0; i < multi.length; i++) {
                sum += multi[i]*reInput[i];
                // sum += multi.substring(i,i+1) * reInput.substring(i,i+1);
            }

            res = 11 - (sum%11);
            //if문안쓰면 res = res%10;
            if(res == 10) res = 0;
            else if(res == 11) res = 1;

            str = `주민등록번호 : ${input.substring(0,8)}****** <br>`
            if(res == input.substring(13)) str += "맞는번호입니다.";
            else str += "틀린번호입니다.";

            document.getElementById('result2').innerHTML = str;




        }
    </script>
</head>
<body>
<div class="box">
    <h4>prompt로 주민등록번호를 입력 받아 생년월일과 성별, 나이를
        출력하는 프로그램을 작성하시오.</h4>
    <input type="button" value="정보" onclick="proc1()">
    <br><br>
    <div id="result1"></div>
</div>
<div class="box">
    <h4>주민등록번호를 입력 받아 주민등록번호의 유효성을 검사하는
        프로그램을 작성하시오.(ABCDEF-GHIJKLM)</h4>
    <input type="button" value="정보" onclick="proc2()">
    <br><br>
    <div id="result2"></div>
</div>
</body>
</html>